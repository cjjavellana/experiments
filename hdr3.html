<html lang="en">
	<head>
		<meta charset="utf-8">
    	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    	<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
		<link rel="stylesheet" href="/styles/rwd.css">
		<!-- Optional theme -->
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">

		<!-- Latest compiled and minified JavaScript -->
		<script src="/scripts/jquery-2.1.1.min.js"></script>
		<script src="/scripts/columnize.js"></script>
		<script src="/scripts/enquire.min.js"></script>
		<script src="/scripts/raphael-min.js"></script>
		<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
		<title>Expedia Front End Test</title>

		<script>
			$(document).ready(function(){
				var svg = $('#svg');
				var animangle = $('#animangle');
				var running = true;
				var angle = 0;

				svg.bind('click', function(){
					running = !running;
				});

				//rotate();

				function rotate(){
					if(running) {
						angle +=1;
						angle = angle % 360;
						if(angle == 315) {
							running = false;
						}
					}

					var x = Math.sin((angle) * Math.PI / 180) * 25,
		            y = -Math.cos((angle) * Math.PI / 180) * 25,
		            long = (angle > 180) ? 1 : 0;
			        x = Math.round(x * 1000)/1000;
			        y = Math.round(y * 1000)/1000;

			        console.log('Long: ' + long + ', x: ' + x + ', y: ' + y);

			        animangle.attr("d", "M 0 0 v -25 A 25 25 1 " + long +" 1 " + x + " " + y + " z");
			        //text.textContent = Math.round(angle);

					if(running) {
						setTimeout(rotate, 50);
					}
				}

				//taken from http://stackoverflow.com/questions/13932704/how-to-draw-sine-waves-with-svg-js
				var svg = document.getElementById('lp-svg');
				var origin = { //origin of axes
				    x: 100,
				    y: -70
				};
				var amplitude = 85; // wave amplitude
				var rarity = 1; // point spacing
				var freq = 0.0125; // angular frequency
				var phase = 90; // phase angle

				for(var repetitions = 0; repetitions < 40; repetitions++){
					for (var i = -100; i < 1000; i++) {
					    var line = document.createElementNS("http://www.w3.org/2000/svg", "line");

					    line.setAttribute('x1', (i - 1) * rarity + origin.x);
					    line.setAttribute('y1', Math.sin(freq * (i - 1 + phase)) * amplitude + origin.y);

					    line.setAttribute('x2', i * rarity + origin.x);
					    line.setAttribute('y2', Math.sin(freq * (i + phase)) * amplitude + origin.y);

					    line.setAttribute('style', "stroke:white;stroke-width:1;opacity: 0.1;");

					    svg.appendChild(line);
					}

					origin.y += 10;
				}
			});

		</script>

	</head>
	<body>

		<div class="header">
			<div class="asap">
				<svg id="svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="300" height="100">
					
					<!-- The 2 buttons-->
					<polygon fill="white" transform="translate(48.5, 20) scale(1.5,1.5)" points="0,0 0,-2 -1,-2 -1,-5 4,-5 4,-2 3,-2 3,0" />
					<polygon fill="white" transform="translate(30, 26.5) rotate(-45) scale(0.8, 0.8)"  
						points="0,0 0,-2 -1,-2 -1,-5 4,-5 4,-2 3,-2 3,0" />

					<!-- Outer Circle -->
					<circle cx="0" cy="0" r="30" stroke="white" stroke-width="3" fill="none" transform="translate(50, 50)"/>

					<!-- Pac man :)-->
					<path id="animangle" fill="white" transform="translate(50, 50)" opacity="1.0" d="M 0 0 v -25 A 25 25 1 1 1 -17.678 -17.678 z"></path>

					<!-- The underline beneath the text 'ASAP' -->
					<polygon fill="white" transform="translate(65, 85)"  points="0,0 10,-10 130,-10 130,0" />

					<text x="20" y="100" fill="white" font-family="Arial Narrow" font-size="16">A SUDDEN AMAZING PRICE</text>
					<text x="88" y="67" fill="white" font-family="Arial Narrow" font-size="52" >ASAP</text>
				</svg>
			</div>
			<div class="description">
				<div class="fab">Get seriously fabulous discounts every day on Expedia</div>
				<div class="scorchin">These scorchin' deals change daily at 12:00 AM (PST)</div>
			</div>
			<div class="featured">
				<div class="featured-text">
					<div class="desc">Featured offers Up To 50% Off</div>
					<div class="share">Share this deal </div>
					<div class="fb-icon"><a href="#"><img src="/images/1406536064_facebook_button.png" alt="facebook share"/></a></div>
				</div>
				<div class="wt-bg">
				</div>
			</div>
			<div class="stopwatch">
				<svg id="sw-svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="175" height="200">
					<polygon fill="#133662" transform="translate(85, 30)" points="0,0 0,-8 -5,-8 -5,-20 15,-20 15,-8 10,-8 10,0" />
					<polygon fill="#133662" transform="translate(23, 60) rotate(-50) scale(0.75	, 0.75)" points="0,0 0,-8 -5,-8 -5,-20 15,-20 15,-8 10,-8 10,0" />

					<!-- Outer Circle-->
					<circle cx="0" cy="0" r="80" stroke="#133662" stroke-width="10" fill="none" transform="translate(87.5, 112.5)"/>
					<!-- Inner Circle -->
					<circle cx="0" cy="0" r="70" stroke="white" stroke-width="10" fill="#133662" transform="translate(87.5, 112.5)"/>
					<!-- Deal ends -->
					<text x="50" y="110" fill="white" font-family="Arial Narrow" font-size="14">DEALS END IN</text>
					<text x="48" y="135" fill="white" font-family="Arial Narrow" font-size="26">23:49:23</text>
				</svg>
			</div>
			<div class="linepattern">
				<svg id="lp-svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1024" height="200">
				</svg>
			</div>
		</div>



	</body>
</html>